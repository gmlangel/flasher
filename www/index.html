<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!--<meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval'; style-src 'self' 'unsafe-inline'; media-src *; img-src 'self' data: content:;">-->
        <meta name="format-detection" content="telephone=no">
        <meta name="msapplication-tap-highlight" content="no">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
        <link rel="stylesheet" type="text/css" href="css/index.css">
        <!--<script type="text/javascript" src="./engine/threads/UIThread.js"></script>-->
        <script type="text/javascript" src="./js/HeaderBridge.js"></script>
        <script>

            var ws = null;
            window.onload = function(){
//                var o = {"format":'name => `${name}`',"format2":'%s'};
//                let fun = eval.call(null, o.format);
//                alert(fun('guominglong'));
//                console.log(o.format2,"gi");
                //let s = String.raw('abv')
                //alert(String.fromCodePoint(0xffff))
                //alert(`${String.fromCodePoint(0x9999)}`);
                //alert('\u013f'+"_"+'\u{013f}')

               // var buffer = new ArrayBuffer(12);

//                var x1 = new Int32Array(buffer);
//                x1[0] = 0xff6600;
//                var x2 = new Uint8Array(buffer);
//                x2[0]  = 0x80;
//                console.log(13);
                let app = new AppDelegate();
                let pro = new BaseProxy();
                ws = new WebSocketHandler("ws://172.16.97.85:12399/");
                ws.addEventListener(WebSocketEvent.SOCKET_CLOSE,function(e){
                    console.log("socket关闭");
                })

                ws.addEventListener(WebSocketEvent.SOCKET_DATA,function(e){
                    console.log(e.data)
                })
            }

            function functtt(e){
                alert(3)
            }
            function functtt2(e){
                alert(4)
            }

            function sendDataToServer(){
                let txt = document.querySelector("#myinput");
                if(txt){
                    ws.sendData(txt.value);
                }
            }
        </script>
        <title>Hello World</title>
    </head>
    <body>
        <input id="myinput" type="text" width="300" height="40" />
        <input type="button" value="发送" onclick="sendDataToServer()" />
    </body>
</html>
